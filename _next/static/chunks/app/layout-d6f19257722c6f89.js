(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{6178:(e,r,t)=>{"use strict";t.d(r,{default:()=>f});var n=t(95155),i=t(16687),o=t(35695),s=t(64453),a=t(6643),l=t(3854);let c=(0,t(50548).A)({direction:"rtl",typography:{fontFamily:'"Rubik", "Heebo", "Arial", sans-serif'},palette:{primary:{main:"#3a4750",light:"#5c6b76",dark:"#1a252d",contrastText:"#ffffff"},secondary:{main:"#d72323",light:"#ff5c4d",dark:"#9e0000",contrastText:"#ffffff"},background:{default:"#f5f5f5",paper:"#ffffff"}},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:600}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8}}}}}});var d=t(12115),h=t(5677),x=t(70342);function f(e){let{children:r}=e,[{cache:t,flush:f}]=(0,d.useState)(()=>{let e=(0,i.A)({key:"mui-rtl",stylisPlugins:[x.gi,h.A]});e.compat=!0;let r=e.insert,t=[];return e.insert=function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];let s=i[1];return void 0===e.inserted[s.name]&&t.push(s.name),r(...i)},{cache:e,flush:()=>{let e=t;return t=[],e}}});return(0,o.useServerInsertedHTML)(()=>{let e=f();if(0===e.length)return null;let r="";for(let n of e)r+=t.inserted[n];return(0,n.jsx)("style",{"data-emotion":"".concat(t.key," ").concat(e.join(" ")),dangerouslySetInnerHTML:{__html:r}},"emotion-styles")}),(0,n.jsx)(s.C,{value:t,children:(0,n.jsxs)(a.A,{theme:c,children:[(0,n.jsx)(l.Ay,{}),r]})})}},30347:()=>{},32148:(e,r,t)=>{"use strict";t.d(r,{default:()=>l});var n=t(95155),i=t(12115),o=t(17985),s=t(91218);o.Ay.use(s.r9).init({resources:{he:{translation:{common:{appName:"מספרת בר ארזי",loading:"טוען...",error:"שגיאה",success:"הצלחה",cancel:"ביטול",save:"שמור",confirm:"אישור",back:"חזרה",next:"הבא",submit:"שלח"},booking:{title:"הזמנת תור",date:"תאריך",time:"שעה",service:"שירות",people:"מספר אנשים",notification:"אופן קבלת עדכונים",email:"אימייל",sms:"SMS",whatsapp:"וואטסאפ",name:"שם מלא",phone:"טלפון",notes:"הערות",contactInfo:"פרטי התקשרות",confirmation:"אישור הזמנה"},hours:{sundayToWednesday:"ימי א - ד | 09:00 - 20:00",thursday:"יום ה | 08:00 - 21:00",friday:"יום ו | 08:00 - 15:00",holidayEve:"ערבי חג המספרה פתוחה במתכונת ימי שישי",holidayAndSaturday:"ימי שבת וחגים המספרה סגורה"}}}},lng:"he",fallbackLng:"he",interpolation:{escapeValue:!1}});let a=o.Ay;function l(e){let{children:r}=e;return(0,i.useEffect)(()=>{document.documentElement.dir="rtl"},[]),(0,n.jsx)(s.xC,{i18n:a,children:r})}},36900:(e,r,t)=>{Promise.resolve().then(t.bind(t,52269)),Promise.resolve().then(t.t.bind(t,30347,23)),Promise.resolve().then(t.t.bind(t,19069,23)),Promise.resolve().then(t.t.bind(t,63049,23)),Promise.resolve().then(t.bind(t,52548)),Promise.resolve().then(t.bind(t,63955)),Promise.resolve().then(t.bind(t,32148)),Promise.resolve().then(t.bind(t,6178))},48707:(e,r,t)=>{"use strict";t.d(r,{Lx:()=>o,N6:()=>a,y4:()=>s});var n=t(16203),i=t(77651);let o=async(e,r)=>{try{return(await (0,n.x9)(i.j,e,r)).user}catch(e){throw console.error("Error logging in:",e),e}},s=async()=>{try{return await (0,n.CI)(i.j),!0}catch(e){throw console.error("Error logging out:",e),e}},a=e=>{var r;return!!e&&((null===(r=e.email)||void 0===r?void 0:r.includes("admin"))||!1)}},52548:(e,r,t)=>{"use strict";t.d(r,{default:()=>x});var n=t(95155),i=t(73746),o=t(52269),s=t(63159),a=t(3951),l=t(9670),c=t(17764),d=t(85396),h=t(43927);function x(){let e=(0,i.A)(),r=new Date().getFullYear();return(0,n.jsx)(o.default,{component:"footer",sx:{py:3,backgroundColor:e.palette.primary.main,color:"white"},children:(0,n.jsxs)(s.A,{maxWidth:"lg",children:[(0,n.jsxs)(a.Ay,{container:!0,spacing:2,justifyContent:"space-between",children:[(0,n.jsxs)(a.Ay,{item:!0,xs:12,sm:6,children:[(0,n.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"מספרת בר ארזי"}),(0,n.jsxs)(o.default,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,n.jsx)(d.A,{fontSize:"small",sx:{mr:1}}),(0,n.jsx)(l.A,{variant:"body2",children:(0,n.jsx)(c.A,{href:"tel:+972501234567",color:"inherit",underline:"hover",children:"050-123-4567"})})]})]}),(0,n.jsxs)(a.Ay,{item:!0,xs:12,sm:6,children:[(0,n.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"שעות פעילות"}),(0,n.jsxs)(o.default,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,n.jsx)(h.A,{fontSize:"small",sx:{mr:1}}),(0,n.jsx)(l.A,{variant:"body2",children:"ראשון - חמישי: 9:00 - 20:00"})]}),(0,n.jsxs)(o.default,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,n.jsx)(h.A,{fontSize:"small",sx:{mr:1}}),(0,n.jsx)(l.A,{variant:"body2",children:"שישי: 9:00 - 14:00"})]})]})]}),(0,n.jsxs)(l.A,{variant:"body2",align:"center",sx:{mt:2,pt:2,borderTop:"1px solid rgba(255, 255, 255, 0.2)"},children:["\xa9 ",r," מספרת בר ארזי. כל הזכויות שמורות."]})]})})}},63955:(e,r,t)=>{"use strict";t.d(r,{default:()=>N});var n=t(95155),i=t(12115),o=t(73746),s=t(21600),a=t(52269),l=t(9670),c=t(80158),d=t(95439),h=t(95922),x=t(55592),f=t(34152),u=t(53687),m=t(63159),p=t(3737),A=t(44146),j=t(55857),g=t(72131),y=t(88847),b=t(364),v=t(28132),k=t(77810),w=t(35349),I=t(98167),S=t(6874),C=t.n(S),E=t(35695),P=t(66681),_=t(48707);function N(){let[e,r]=(0,i.useState)(!1),t=(0,E.usePathname)(),{user:S,isAdmin:N}=(0,P.A)(),T=(0,o.A)(),W=(0,s.A)(T.breakpoints.down("md")),z=(0,E.useRouter)(),L=e=>()=>{r(e)},M=async()=>{try{localStorage.removeItem("isBarberAdmin"),S&&await (0,_.y4)(),r(!1),z.push("/")}catch(e){console.error("Logout error:",e)}},B=[{text:"דף הבית",icon:(0,n.jsx)(y.A,{}),href:"/"},{text:"הזמן תור",icon:(0,n.jsx)(b.A,{}),href:"/client/booking"}],D=[{text:"לוח בקרה",icon:(0,n.jsx)(v.A,{}),href:"/admin/dashboard"}],F=S||N?[{text:"התנתק",icon:(0,n.jsx)(k.A,{}),onClick:M}]:[{text:"התחבר",icon:(0,n.jsx)(w.A,{}),href:"/auth/login"}],O=(0,n.jsxs)(a.default,{sx:{width:250},role:"presentation",onClick:L(!1),onKeyDown:L(!1),children:[(0,n.jsx)(a.default,{sx:{p:2,textAlign:"center"},children:(0,n.jsx)(l.A,{variant:"h6",component:"div",color:"primary",children:"מספרת בר ארזי"})}),(0,n.jsx)(c.A,{}),(0,n.jsx)(d.A,{children:B.map(e=>(0,n.jsxs)(h.A,{component:C(),href:e.href||"",selected:t===e.href,children:[(0,n.jsx)(x.A,{children:e.icon}),(0,n.jsx)(f.A,{primary:e.text})]},e.text))}),N&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{}),(0,n.jsx)(d.A,{children:D.map(e=>(0,n.jsxs)(h.A,{component:C(),href:e.href||"",selected:t===e.href,children:[(0,n.jsx)(x.A,{children:e.icon}),(0,n.jsx)(f.A,{primary:e.text})]},e.text))})]}),(0,n.jsx)(c.A,{}),(0,n.jsx)(d.A,{children:F.map(e=>(0,n.jsxs)(h.A,{component:e.href?C():"button",href:e.href,onClick:e.onClick,children:[(0,n.jsx)(x.A,{children:e.icon}),(0,n.jsx)(f.A,{primary:e.text})]},e.text))})]});return(0,n.jsxs)(u.A,{position:"sticky",color:"primary",elevation:1,children:[(0,n.jsx)(m.A,{maxWidth:"lg",children:(0,n.jsxs)(p.A,{disableGutters:!0,children:[(0,n.jsx)(l.A,{variant:"h6",component:C(),href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontWeight:700,color:"white",textDecoration:"none",flexGrow:{xs:0,md:1}},children:"מספרת בר ארזי"}),W?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.A,{variant:"h6",component:C(),href:"/",sx:{display:{xs:"flex",md:"none"},flexGrow:1,fontWeight:700,color:"white",textDecoration:"none"},children:"מספרת בר ארזי"}),(0,n.jsx)(A.A,{size:"large",edge:"start",color:"inherit","aria-label":"menu",onClick:L(!0),children:(0,n.jsx)(I.A,{})})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(a.default,{sx:{display:"flex",flexGrow:0},children:[B.map(e=>(0,n.jsx)(j.A,{component:C(),href:e.href||"",color:"inherit",sx:{mx:1},startIcon:e.icon,children:e.text},e.text)),N&&D.map(e=>(0,n.jsx)(j.A,{component:C(),href:e.href||"",color:"inherit",sx:{mx:1},startIcon:e.icon,children:e.text},e.text)),F.map(e=>(0,n.jsx)(j.A,{component:e.href?C():"button",href:e.href,onClick:e.onClick,color:"inherit",sx:{mx:1},startIcon:e.icon,children:e.text},e.text))]})})]})}),(0,n.jsx)(g.Ay,{anchor:"right",open:e,onClose:L(!1),children:O})]})}},66681:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var n=t(12115),i=t(16203),o=t(77651),s=t(48707);function a(){let[e,r]=(0,n.useState)({user:null,loading:!0,isAdmin:!1});return(0,n.useEffect)(()=>{let e=(()=>{try{return"true"===localStorage.getItem("isBarberAdmin")}catch(e){return console.error("Error accessing localStorage:",e),!1}})();e&&r(e=>({...e,isAdmin:!0,loading:!1}));let t=(0,i.hg)(o.j,t=>{let n=e||(0,s.N6)(t);console.log("Auth state changed:",{user:null==t?void 0:t.email,isBarberAdmin:e,isUserAdmin:(0,s.N6)(t),adminStatus:n}),r({user:t,loading:!1,isAdmin:n})});return()=>t()},[]),e}},77651:(e,r,t)=>{"use strict";t.d(r,{db:()=>a,j:()=>l});var n=t(23915),i=t(35317),o=t(16203);let s=(0,n.Wp)({apiKey:"AIzaSyDWNHL-dQZayHhVS51U1z_0u1V1uLKtzkA",authDomain:"barber-booking-bf41f.firebaseapp.com",projectId:"barber-booking-bf41f",storageBucket:"barber-booking-bf41f.firebasestorage.app",messagingSenderId:"265481537358",appId:"1:265481537358:web:93c5b6f36e8258dc5e401f"}),a=(0,i.aU)(s),l=(0,o.xI)(s)}},e=>{var r=r=>e(e.s=r);e.O(0,[194,992,888,881,555,874,990,720,258,441,684,358],()=>r(36900)),_N_E=e.O()}]);